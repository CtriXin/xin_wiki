<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ•°å­¦é£æœºå¤§æˆ˜ - ç‹‚æš´æ¨¡å¼</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
  <link rel="stylesheet" href="./game/game.css">
  <style>
    /* å…¨å±æ¨¡å¼ä¼˜åŒ– */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #1a1a2e;
    }
    
    /* è¿”å›æŒ‰é’® */
    .back-btn {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 300;
      background: rgba(255, 107, 107, 0.8);
      color: #fff;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      text-decoration: none;
      font-family: 'Courier New', monospace;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    
    .back-btn:hover {
      background: rgba(255, 107, 107, 1);
    }
  </style>
</head>
<body>
  <!-- è¿”å›çŸ¥è¯†åº“æŒ‰é’® -->
  <a href="/xin_wiki/features/game/" class="back-btn">â† è¿”å›</a>
  
  <!-- è§¦æ‘¸æ§åˆ¶åŒºåŸŸ -->
  <div id="touch-left"
    style="position:absolute; left:0; top:80px; width:35%; height:60%; z-index:5; display:flex; align-items:center; justify-content:center; pointer-events:auto;">
    <div class="touch-hint"
      style="color:rgba(255,215,0,0.4); font-size:24px; font-weight:bold; pointer-events:none; display:flex; flex-direction:column; align-items:center; gap:10px;">
      <span style="font-size:36px;">â†</span>
      <span style="font-size:12px;">æŒ‰ä½ç§»åŠ¨</span>
    </div>
  </div>
  <div id="touch-right"
    style="position:absolute; right:0; top:80px; width:35%; height:60%; z-index:5; display:flex; align-items:center; justify-content:center; pointer-events:auto;">
    <div class="touch-hint"
      style="color:rgba(255,215,0,0.4); font-size:24px; font-weight:bold; pointer-events:none; display:flex; flex-direction:column; align-items:center; gap:10px;">
      <span style="font-size:36px;">â†’</span>
      <span style="font-size:12px;">æŒ‰ä½ç§»åŠ¨</span>
    </div>
  </div>

  <canvas id="gameCanvas"></canvas>

  <div id="ui-layer">
    <div id="hud">
      <div class="hud-item">å…³å¡: <span id="level">1</span></div>
      <div class="hud-item">æ¬¡æ•°: <span id="attempts">0</span></div>
      <div class="hud-item">ç”Ÿå‘½: <span id="lives">3</span></div>
      <div class="hud-item" id="aim-toggle" style="cursor:pointer; background:rgba(255,215,0,0.3);" onclick="toggleAimMode()">
        ç„å‡†: <span id="aim-mode">æ‰‹åŠ¨</span>
      </div>
      <div class="hud-item" id="sound-toggle" style="cursor:pointer; background:rgba(0,255,255,0.2);" onclick="toggleSound()">
        <span id="sound-icon">ğŸ”Š</span> <span id="sound-text">å¼€å¯</span>
      </div>
    </div>

    <div id="combo">è¿å‡» x<span id="combo-count">0</span>! <span id="combo-text"></span></div>

    <div id="easter-egg">ğŸ§§ æ˜¥èŠ‚å½©è›‹ï¼ğŸ§§</div>

    <div id="controls">
      <div class="control-btn" id="btn-left">â†</div>
      <div class="control-btn" id="btn-right">â†’</div>
    </div>

    <div id="math-panel">
      <div id="question">ç‚¹å‡»å¼€å§‹</div>
      <div id="answer-display"></div>
    </div>

    <div id="keypad">
      <div class="key" data-num="1">1</div>
      <div class="key" data-num="2">2</div>
      <div class="key" data-num="3">3</div>
      <div class="key" data-num="4">4</div>
      <div class="key" data-num="5">5</div>
      <div class="key" data-num="6">6</div>
      <div class="key" data-num="7">7</div>
      <div class="key" data-num="8">8</div>
      <div class="key" data-num="9">9</div>
      <div class="key" data-num="0">0</div>
      <div class="key clear" data-action="clear">æ¸…é™¤</div>
    </div>
  </div>

  <!-- æ ¸å¼¹çˆ†ç‚¸é—ªå…‰å±‚ -->
  <div id="nuke-flash" class="nuke-flash"></div>

  <div id="overlay">
    <h1>ğŸ§¨ æ•°å­¦é£æœºå¤§æˆ˜ ğŸ§¨</h1>
    <p>ç®—å‡ºç­”æ¡ˆï¼Œå‘å°„å­å¼¹ï¼<br>æ¶ˆé™¤æ‰€æœ‰æ–¹å—è¿‡å…³<br>æ¼æ‰3ä¸ªæ–¹å—æ¸¸æˆç»“æŸ</p>
    <p style="color: #ffd700; font-size: 14px;">è¿å¯¹3é¢˜å‡çº§åŒå‘ï¼Œ5é¢˜æ•£å°„ï¼Œ8é¢˜å››è¿ï¼</p>
    <p style="color: #ff6b6b; font-size: 12px;">ğŸ”¥ ç‹‚æš´æ¨¡å¼: è¿å‡»x3åŠ é€Ÿï¼Œx5ç©¿é€ï¼Œâ‰¥20æ¸…å±ï¼</p>
    <button class="btn" onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
  </div>

  <script src="./game/game.js"></script>
</body>
</html>
